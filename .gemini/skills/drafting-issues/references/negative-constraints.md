# 負の制約 (Negative Constraints) ガイドライン

「負の制約」とは、エージェントが意図せず行ってしまう可能性のある「やってはいけないこと」を明示的に禁止する指示です。これにより、手戻りや予期せぬ破壊を防ぎます。

## なぜ必要なのか

LLMは指示されたことを達成するために、近道を選んだり、文脈を過剰に解釈して範囲外の変更を行ったりする傾向があります。「〜してはいけない」と明記することで、探索空間を制限し、安全な実行を保証します。

## 記述すべき項目の例

### 1. 変更禁止ファイル
参照のみを行うべきファイルが、誤って編集されないようにします。

*   **例:** 「`docs/system-context.md` は参照のみとし、変更してはならない。」
*   **例:** 「`src/shared/utils.py` の既存関数は変更しないこと。」

### 2. 依存関係の制約
アーキテクチャ違反を防ぐために、インポートや依存を制限します。

*   **例:** 「Domain層からInfrastructure層をインポートしてはならない。」
*   **例:** 「新しい外部ライブラリを追加してはならない。」

### 3. 記法・フォーマットの制約
一貫性を保つためのルールです。

*   **例:** 「Mermaid図では `classDef` スタイルを使用しないこと（デフォルトスタイルに従う）。」
*   **例:** 「コミットメッセージは日本語ではなく英語で記述すること。」

### 4. 範囲外の作業
タスクの境界を明確にします。

*   **例:** 「今回はリファクタリングを行わず、機能追加のみに集中すること。」
*   **例:** 「テストコードの修正は、テスト実行に必要な最小限に留めること。」
