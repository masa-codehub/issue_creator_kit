# スキル: 開発標準の整備 (Standardization)

**開発チームの生産性とコード品質を向上させるためのガイドラインやルールを策定・文書化するプロセスです。** 単なる「文書化」ではなく、ツールの設定（Linter等）や既存コードの実態と整合した「生きたガイド」を維持します。

このドキュメントは、TECHNICAL_DESIGNER が `~/.gemini/GEMINI.md` の「プロジェクト進行フレームワーク（State Machine）」を実行する際に参照するデータソースです。

---

## 1. Planning Phase Inputs (for State 1)

計画策定時に、以下の情報を「能動的偵察 (Active Reconnaissance)」によって収集し、Todoリストの具体化に利用してください。

### 1.1 能動的偵察 (Active Reconnaissance)
*   **現状分析:** `list_directory("docs/guides/")` で既存ガイドを確認する。
*   **ツール設定調査:** `pyproject.toml`, `.pre-commit-config.yaml` 等を読み込み、現在自動化されているルールを確認する。
*   **実態調査:** `search_code` で既存コードをサンプリングし、慣習的に守られているルールや、逆に頻繁に破られているルールを特定する。
*   **課題定義:** Issueの内容に基づき、解決すべき課題（レビューコスト削減、バグ防止等）を明確にする。

### 1.2 作業ブランチの計画
*   **Action:** `~/.gemini/GEMINI.md` の **「1. Gitによるバージョン管理」** に従い、作業用ブランチを作成するタスクをTodoの先頭に追加する。

### 1.3 リスク評価 (Specific Context)
`~/.gemini/GEMINI.md` の **「3. プロジェクト進行 > 3. リスク評価」** を参照し、特に以下の観点を追加で考慮する。
*   **運用コスト:** ルールを守るためのコストが高すぎないか？
*   **競合:** 既存のツールやルールと矛盾しないか？

---

## 2. Execution Phase Actions (for State 2)

Todoを実行する際、以下の思考プロセスと記述ガードレールを遵守してください。

### 2.1 ルール策定 (Hypothesis - Step 1: Formulation)
課題を解決するためのルールを設計します。

*   **自動化優先:** まず `ruff` や `mypy` などのツール設定で強制できないか検討する。ドキュメントよりツール設定変更を優先する。
*   **Do/Don't:** 抽象的な表現を避け、具体的なコード例（Good/Bad）をセットで考える。
*   **トレードオフ:** そのルールを導入するメリット（品質）とデメリット（工数）を比較する。

### 2.2 ドキュメント作成 (Hypothesis - Step 2: Drafting)
*   `docs/guides/` 配下の適切なファイルを選択または新規作成する。
*   **記述ルール:**
    *   **Why:** なぜそのルールが必要なのか（背景・メリット）を必ず書く。
    *   **How:** 具体的なコマンドや設定方法を書く。
    *   **Actionable:** 読んだ直後に行動に移せる内容にする。

### 2.3 自律的解決ループ (Autonomy Loop)
最適なルールが決めきれない場合、以下のプロセスで解決します。

1.  **実証実験:** 自分のローカル環境や作業ブランチで、そのルールを適用したコードを書いてみる（プロトタイピング）。
2.  **標準調査:** 言語やフレームワークの公式スタイルガイド、コミュニティ標準（PEP8等）を調査し、それに従う。
3.  **意思決定:** 複数の選択肢がある場合は、プロジェクトのバリュー（保守性、可読性等）に最も合致するものを選び、理由を明記して採用する。

---

## 3. Closing Phase Criteria (for State 3)

タスク完了時に、以下の手順で最終監査を行い、品質を保証してください。

### 3.1 最終監査 (Final Audit)
以下の手順で成果物を精査し、自信を持って「Yes」と回答できるか確認します。

1.  **成果物の再読:** `read_file` を用いて、更新したガイドを読み込む。
2.  **チェックリストの消込:**
    *   **[具体的]** 曖昧さがなく、誰が読んでも同じ解釈になるか？
    *   **[Why]** 背景や理由が明記されているか？
    *   **[実例]** Good/Badのコード例が含まれているか？
    *   **[整合性]** ツール設定や既存コードと矛盾していないか？
    *   **[構造化]** 目次や見出しが適切か？

### 3.2 成果物の定着
`~/.gemini/GEMINI.md` の **「プルリクエストの管理 (PR Protocol)」** に従い、提出してください。
*   **PR Body:** 導入したルールの概要と、それによる期待効果を明記する。
